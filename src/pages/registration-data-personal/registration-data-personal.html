<!--
  Generated template for the Masks page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

    <!--color="clear"-->

    <ion-navbar color="clear">

        <ion-title text-center class="registration_data_title">Personal data</ion-title>

    </ion-navbar>

</ion-header>




<ion-content padding>

    <!-- Поле с именем пользователя -->
    <div class="personal_data_row">

        <ion-row>

            <!-- Иконка валидации -->
            <ion-col col-1 align-self-center text-right class="validation_block">
                <!-- Успешная валидация -->
                <ion-icon *ngIf="state.firstName == 2" class="success" name="md-checkmark"></ion-icon>
                <!-- Ошибка валидации -->
                <ion-icon *ngIf="state.firstName == 3" class="alert" name="md-alert"></ion-icon>
            </ion-col>

            <!-- Блок с именем пользователя -->
            <ion-col class="data_block">
                <!-- Лейбл ввода имени -->
                <div class="label">First name</div>
                <!-- Инпут имени пользователя -->
                <ion-input
                        class="input_row"
                        [(ngModel)]="personalData.firstName"
                        type="text"
                        text-right
                        (blur)="firstNameValidate()"
                        name="firstName">
                </ion-input>


                <!-- Разделительная черта -->
                <div>
                    <hr class="personal_data_row_separator" [ngClass]="(state.firstName == 3) ? 'red' : '' ">
                </div>

            </ion-col>
        </ion-row>


        <!-- Сообщение с ошибкой -->
        <ion-row
                class="error_message"
                *ngIf="state.firstName == 3">
            <ion-col>
                this field required
            </ion-col>
        </ion-row>

    </div>



    <!-- Поле с фамилией пользователя -->
    <div class="personal_data_row">

        <ion-row>

            <!-- Иконка валидации -->
            <ion-col col-1 align-self-center text-right class="validation_block">
                <!-- Успешная валидация -->
                <ion-icon *ngIf="state.lastName == 2" class="success" name="md-checkmark"></ion-icon>
                <!-- Ошибка валидации -->
                <ion-icon *ngIf="state.lastName == 3" class="alert" name="md-alert"></ion-icon>
            </ion-col>

            <!-- Блок с именем пользователя -->
            <ion-col class="data_block">
                <!-- Лейбл ввода имени -->
                <div class="label">Last name</div>
                <!-- Инпут имени пользователя -->
                <ion-input
                        class="input_row"
                        [(ngModel)]="personalData.lastName"
                        type="text"
                        text-right
                        (blur)="lastNameValidate()"
                        name="firstName">
                </ion-input>


                <!-- Разделительная черта -->
                <div>
                    <hr class="personal_data_row_separator" [ngClass]="(state.lastName == 3) ? 'red' : '' ">
                </div>
            </ion-col>
        </ion-row>

        <!--&lt;!&ndash; Разделительная черта &ndash;&gt;-->
        <!--<div>-->
            <!--<hr class="personal_data_row_separator" [ngClass]="(state.lastName == 3) ? 'red' : '' ">-->
        <!--</div>-->

        <!-- Сообщение с ошибкой -->
        <ion-row
                class="error_message"
                *ngIf="state.lastName == 3">
            <ion-col>
                this field required
            </ion-col>
        </ion-row>

    </div>



    <!-- Поле с Названием компании -->
    <div class="personal_data_row">

        <ion-row>

            <!-- Иконка валидации -->
            <ion-col col-1 align-self-center text-right class="validation_block">
                <!-- Успешная валидация -->
                <ion-icon *ngIf="state.company == 2" class="success" name="md-checkmark"></ion-icon>
                <!-- Ошибка валидации -->
                <ion-icon *ngIf="state.company == 3" class="alert" name="md-alert"></ion-icon>
            </ion-col>

            <!-- Блок с именем пользователя -->
            <ion-col class="data_block">
                <!-- Лейбл ввода имени -->
                <div class="label">Company</div>
                <!-- Инпут имени пользователя -->
                <ion-input
                        class="input_row"
                        [(ngModel)]="personalData.company"
                        type="text"
                        text-right
                        (blur)="companyNameValidate()"
                        name="firstName">
                </ion-input>

                <!-- Разделительная черта -->
                <div>
                    <hr class="personal_data_row_separator" [ngClass]="(state.company == 3) ? 'red' : '' ">
                </div>

            </ion-col>
        </ion-row>

        <!--&lt;!&ndash; Разделительная черта &ndash;&gt;-->
        <!--<div>-->
            <!--<hr class="personal_data_row_separator" [ngClass]="(state.company == 3) ? 'red' : '' ">-->
        <!--</div>-->

        <!-- Сообщение с ошибкой -->
        <ion-row
                class="error_message"
                *ngIf="state.company == 3">
            <ion-col>
                this field required
            </ion-col>
        </ion-row>

    </div>



    <!-- Поле с телефоном -->
    <div class="personal_data_row">

        <ion-row>

            <!-- Иконка валидации -->
            <ion-col col-1 align-self-center text-right class="validation_block">
                <!-- Успешная валидация -->
                <ion-icon *ngIf="state.phone == 2" class="success" name="md-checkmark"></ion-icon>
                <!-- Ошибка валидации -->
                <ion-icon *ngIf="state.phone == 3" class="alert" name="md-alert"></ion-icon>
            </ion-col>

            <!-- Блок с именем пользователя -->
            <ion-col class="data_block">
                <!-- Лейбл ввода имени -->
                <div class="label">Phone</div>
                <!-- Инпут имени пользователя -->
                <ion-input
                        class="input_row"
                        (ngModelChange)='phoneChange($event)'
                        [(ngModel)]="personalData.phone"
                        type="tel"
                        text-right
                        (blur)="phoneValidate()"
                        name="firstName">
                </ion-input>

                <!-- Разделительная черта -->
                <div>
                    <hr class="personal_data_row_separator" [ngClass]="(state.phone == 3) ? 'red' : '' ">
                </div>
            </ion-col>
        </ion-row>


        <!-- Сообщение с ошибкой о пустом поле -->
        <ion-row
                class="error_message"
                *ngIf="phoneErrors == 1">
            <ion-col>
                this field required
            </ion-col>
        </ion-row>

        <!-- Сообщение с ошибкой о недостаточном количестве чисел -->
        <ion-row
                class="error_message"
                *ngIf="phoneErrors == 2">
            <ion-col col-8 offset-4>
                the length of the phone number must be at least 9 digits
            </ion-col>
        </ion-row>

    </div>


    <!-- Поле с регионом -->
    <div class="region_data_row">

        <ion-row>


            <!-- Блок с именем пользователя -->
            <ion-col class="" text-right>
                <!-- Лейбл ввода имени -->
                <div class="label" text-right>Region</div>
                <!-- Инпут имени пользователя -->
                <!--<ion-input-->
                        <!--class="input_row"-->
                        <!--[(ngModel)]="personalData.company"-->
                        <!--type="text"-->
                        <!--text-right-->
                        <!--(blur)="companyNameValidate()"-->
                        <!--name="firstName">-->
                <!--</ion-input>-->

                <div text-right class="region_item" (click)="clearRegions()">

                    <ion-col class="region_selected_name">
                        Israel
                    </ion-col>
                    <ion-col col-1 text-center>
                    </ion-col>

                </div>

                <div *ngFor="let selectRegion of selectRegions" class="region_item" (click)="dellRegion(selectRegion)">

                    <ion-row>
                        <ion-col class="region_selected_name">
                            {{ selectRegion.name }}
                        </ion-col>
                        <ion-col col-1 text-center>
                            <ion-icon class="dell_region_button" name="md-close"></ion-icon>
                        </ion-col>
                    </ion-row>

                    <!--<span>{{ selectRegion.name }}</span> <ion-icon name="md-close"></ion-icon>-->
                </div>

            </ion-col>
        </ion-row>

        <div class="region_variant_block">

            <div *ngFor="let region of regions" class="region_variant_item" text-center (click)="switchRegion(region)">

                {{ region.name }}
            </div>

        </div>

    </div>








    <!--<ion-list>-->

        <!--&lt;!&ndash;<ion-item>&ndash;&gt;-->
            <!--&lt;!&ndash;<ion-label stacked>First name</ion-label>&ndash;&gt;-->
            <!--&lt;!&ndash;<ion-input [(ngModel)]="personalData.firstName" type="text" name="firstName"></ion-input>&ndash;&gt;-->
        <!--&lt;!&ndash;</ion-item>&ndash;&gt;-->

        <!--&lt;!&ndash;<ion-item>&ndash;&gt;-->
            <!--&lt;!&ndash;<ion-label stacked>Last name</ion-label>&ndash;&gt;-->
            <!--&lt;!&ndash;<ion-input [(ngModel)]="personalData.lastName" type="text" name="lastName"></ion-input>&ndash;&gt;-->
        <!--&lt;!&ndash;</ion-item>&ndash;&gt;-->

        <!--<ion-item>-->
            <!--<ion-label stacked>Company</ion-label>-->
            <!--<ion-input [(ngModel)]="personalData.company" type="text" name="company"></ion-input>-->
        <!--</ion-item>-->

        <!--<ion-item>-->
            <!--<ion-label stacked>Phone</ion-label>-->
            <!--<ion-input [(ngModel)]="personalData.phone" type="text" name="company"></ion-input>-->
        <!--</ion-item>-->

    <!--</ion-list>-->





</ion-content>

<ion-footer no-border>
    <!--<button ion-button color="primary" block>{{ 'SIGNUP_BUTTON' | translate }}</button>-->
    <button ion-button clear color="primary" (click)="goBack()"> Apply</button>
</ion-footer>