<ion-header>

    <ion-navbar color="primary">
        <!--<ion-title>Customers</ion-title>-->

        <ion-buttons left text-center>
            <button ion-button (click)="close()">
                <ion-icon name="ios-arrow-back" class="back_arrow"></ion-icon>
            </button>
        </ion-buttons>

        <ion-title (click)="close()">back to {{ 'profile.title' | translate }}</ion-title>

    </ion-navbar>

</ion-header>


<ion-content padding>

    <!-- спинер загрузки -->
    <div *ngIf="sections.loading" class="spinnerLoading">
        <ion-spinner color="primary" name="crescent"></ion-spinner>
    </div>

    <!-- блок с данными -->
    <div class="data" *ngIf="sections.data">

        <!-- Поле с именем пользователя -->
        <div class="personal_data_row">

            <ion-row>

                <!-- Иконка валидации -->
                <ion-col col-1 align-self-center text-right class="validation_block">

                    <!-- Успешная валидация -->
                    <ion-icon *ngIf="state.password == 1" class="success" name="md-checkmark"></ion-icon>
                    <!-- Ошибка валидации -->
                    <ion-icon *ngIf="state.password > 1" class="alert" name="md-alert"></ion-icon>

                </ion-col>

                <!-- Блок с паролем -->
                <ion-col class="data_block" [ngClass]="(state.password == 3) ? 'error' : '' ">
                    <!-- Лейбл ввода имени -->
                    <div class="label">
                        {{ 'profile.password' | translate }}
                    </div>
                    <!-- Инпут имени пользователя -->
                    <ion-input
                            class="input_row"
                            type="password"
                            [(ngModel)]="data.password"
                            placeholder="enter the password"
                            text-right
                            (focus)="passwordFocus()"
                            (blur)="passwordValidate()"
                            name="password">
                    </ion-input>

                </ion-col>
            </ion-row>


            <!-- Сообщение с ошибкой -->
            <!--<ion-row-->
                    <!--class="error_message"-->
                    <!--*ngIf="true">-->
                <!--<ion-col>-->
                    <!--{{ 'profile.password_required' | translate }}-->
                <!--</ion-col>-->
            <!--</ion-row>-->

            <!-- поле пустое -->
            <ion-row
                    class="error_message"
                    *ngIf="state.password == 2">
                <ion-col>
                    {{ 'REGISTRATION_FIELD_ERROR_REQUIRED' | translate }}
                </ion-col>
            </ion-row>

            <!-- недостаточное количество символов в пароле -->
            <ion-row
                    class="error_message"
                    *ngIf="state.password == 3">
                <ion-col>
                    {{ 'REGISTRATION_FIELD_ERROR_PASSWORD_NOT_MATCH' | translate }}
                </ion-col>
            </ion-row>


        </div>
        <!-- Конец Поле с именем пользователя -->

        <!-- Поле с фамилией пользователя -->
        <div class="personal_data_row">

            <ion-row>

                <!-- Иконка валидации -->
                <ion-col col-1 align-self-center text-right class="validation_block">

                    <!-- Успешная валидация -->
                    <ion-icon *ngIf="state.password_confirmation == 1" class="success" name="md-checkmark"></ion-icon>
                    <!-- Ошибка валидации -->
                    <ion-icon *ngIf="state.password_confirmation > 1" class="alert" name="md-alert"></ion-icon>

                </ion-col>

                <!-- Блок с именем пользователя -->
                <ion-col class="data_block" [ngClass]="(state.password_confirmation == 3) ? 'error' : '' ">
                    <!-- Лейбл ввода имени -->
                    <div class="label">
                        {{ 'profile.password_confirmation' | translate }}
                    </div>
                    <!-- Инпут имени пользователя -->
                    <ion-input
                            class="input_row"
                            type="password"
                            [(ngModel)]="data.password_confirmation"
                            text-right
                            (focus)="passwordConfirmFocus()"
                            (blur)="passwordConfirmValidate()"
                            placeholder="confirm the password"
                            name="password_confirmation">
                    </ion-input>

                    <!--(blur)="firstNameValidate()"-->

                </ion-col>
            </ion-row>


            <!-- Сообщение с ошибкой -->

            <!-- несовпадение с паролем -->
            <ion-row
                    class="error_message"
                    *ngIf="state.password_confirmation == 2">
                <ion-col>
                    {{ 'REGISTRATION_FIELD_ERROR_PASSWORD_NOT_ENOUGH' | translate }}
                </ion-col>
            </ion-row>

        </div>
        <!-- Конец Поле с фамилией пользователя -->

    </div>

    <!-- блок с ошибкой -->
    <div *ngIf="sections.error" class="error_area">

        <div class="error_text">
            Something went wrong, please go back and try again
        </div>

        <div class="error_button">
            <button ion-button large color="light" (click)="close('refresh')">
                Go back
            </button>
        </div>

    </div>
</ion-content>

<ion-footer>
    <button ion-button small full no-margin (click)="saveData()" [disabled]="isSaveDisabled()">
        {{ 'profile.save' | translate }}
    </button>
</ion-footer>