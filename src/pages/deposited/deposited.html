<ion-content>

    <!-- Обновление страницы -->
    <ion-refresher (ionRefresh)="refresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <!-- конец Обновление страницы -->

    <!-- спинер загрузки -->
    <div *ngIf="isLoading" class="spinnerLoading">
        <ion-spinner color="primary" name="crescent"></ion-spinner>
    </div>

    <!-- Итемы отданых лидов на странице -->
    <ion-list inlist>
        <ion-item *ngFor="let item of items" (click)="detail(item)">

            <!-- левый блок -->
            <div text-left>

                <!-- время внесения лида -->
                <div class="data_time"><span class="time">{{ item.date.time }}</span> {{ item.date.date }}</div>

                <!-- заработанная сумма и количество открытий лида -->
                <div >
                    <span class="opened"> <ion-icon ios="ios-eye" md="md-eye"></ion-icon> {{ item.opened }} </span>
                    <!--<span class="cash"> <ion-icon ios="ios-eye" md="ios-cash"></ion-icon> {{ item.earnings }}</span>-->
                    <span class="cash"> <span class="currency">&#8362;</span> {{ item.earnings }}</span>
                </div>
            </div>

            <!-- правый блок -->
            <div item-right class="item-right-data" text-right>

                <!-- назначение лида (аукцион / для диалмейкеров / для приватной группы -->
                <div class="purpose">{{ item.purposeName }}</div>

                <!-- блок с именем / фамилией клиента -->
                <div class="lead_name">{{ item.name }} {{ item.surname }}</div>

                <!-- имя маски / имя сферы-->
                <div class="sphere_name">
                    <span class="status_name">{{ item.sName | translate}}</span> / {{ item.sphere.name }}
                </div>

            </div>

        </ion-item>
    </ion-list>
    <!-- конец Итемы отданых лидов на странице -->

    <!-- Если итэмов нет -->
    <ion-row *ngIf="noItems && !isFilterOn" class="no_leads_row" text-center>
        <ion-col>
            <div class="icon">
                <ion-icon name="md-contract"></ion-icon>
            </div>

            <div class="leads_text" [innerHTML]="'outgoing.no_leads' | translate"></div>

        </ion-col>
    </ion-row>

    <div *ngIf="noItems && !isFilterOn" class="no_leads_cover">

        <div class="empty_added_leads_text" [innerHTML]="'outgoing.to_add_the_lead' | translate">
            <!--To add the lead, click this button-->
        </div>

        <div class="empty_added_leads_icon">
            <ion-icon name="md-return-right"></ion-icon>
        </div>

    </div>

    <div *ngIf="noItems && isFilterOn" class="no_leads_row" text-center>

        <div class="icon">
            <ion-icon name="md-contract"></ion-icon>
        </div>

        <div class="leads_text" [innerHTML]="'outgoing.no_leads_by_filter' | translate">
            <!--<div> No leads by filter</div>-->
        </div>

    </div>

    <!-- Подгрузка следующей партии итемов -->
    <ion-infinite-scroll *ngIf="isLastPageReached()" (ionInfinite)="loadMore($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <!-- конец Подгрузка следующей партии итемов -->

</ion-content>

