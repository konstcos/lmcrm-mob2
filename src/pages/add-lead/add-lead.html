

<ion-header>

    <ion-navbar color="primary" hideBackButton="true">

        <ion-navbar color="primary" hideBackButton="true">


            <ion-buttons left text-center>
                <button ion-button (click)="goBackPop()">
                    <ion-icon name="ios-arrow-back" class="back_arrow"></ion-icon>
                </button>
            </ion-buttons>

            <ion-title>{{ 'adding_lead.title' | translate }}</ion-title>

        </ion-navbar>

    </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-list *ngIf="spheres">

        <ion-item margin-bottom>
            <ion-label text-right stacked>
                {{ 'adding_lead.sphere' | translate }}
            </ion-label>
            <!--<ion-select [(ngModel)]="gaming">-->
            <ion-select [(ngModel)]="lead.sphere" interface="action-sheet" dir="rtl" class="add_lead_value">


                <ion-option *ngFor="let sphere of spheres" value="{{ sphere.id }}">{{ sphere.name }}</ion-option>

            </ion-select>
        </ion-item>

        <ion-list radio-group [(ngModel)]="lead.type" class="add_lead_radio" (ionChange)="typeChange()">

            <ion-item no-border >
                <ion-label text-right class="add_lead_value">
                    {{ 'adding_lead.all' | translate }}
                </ion-label>
                <ion-radio value="0"></ion-radio>
            </ion-item>

            <ion-item no-border>
                <ion-label text-right class="add_lead_value">
                    {{ 'adding_lead.dealmakers_only' | translate }}
                </ion-label>
                <ion-radio value="1"></ion-radio>
            </ion-item>

            <ion-item no-border>
                <ion-label text-right class="add_lead_value">
                    {{ 'adding_lead.private_group' | translate }}
                </ion-label>
                <ion-radio value="2"></ion-radio>
            </ion-item>

        </ion-list>





        <ion-item margin-bottom>
            <ion-label text-right stacked>
                {{ 'adding_lead.name' | translate }}
            </ion-label>
            <ion-input text-right type="text" [(ngModel)]="lead.name" class="add_lead_value" ></ion-input>
        </ion-item>


        <div class="phone_block">
            <ion-item>
                <ion-label text-right stacked>
                    <span ion-text color="danger">*</span>
                    {{ 'adding_lead.phone' | translate }}
                </ion-label>
                <ion-input
                        text-right type="tel"
                        (ngModelChange)='phoneChange($event)'
                        [(ngModel)]="lead.phone"
                        class="add_lead_value"
                        (blur)="phoneValidate()">

                </ion-input>
            </ion-item>
            <div *ngIf="errors.phone.empty" class="phone_error">
                {{ 'adding_lead.phone_empty' | translate }}
            </div>
            <div *ngIf="errors.phone.notEnough" class="phone_error">
                {{ 'adding_lead.phone_error_length' | translate }}
            </div>
        </div>

        <ion-item margin-bottom>
            <ion-label text-right stacked>
                {{ 'adding_lead.comment' | translate }}
            </ion-label>
            <ion-textarea rows="4" text-right [(ngModel)]="lead.comment" class="add_lead_value"></ion-textarea>
        </ion-item>

    </ion-list>


    <ion-list *ngIf="lead.member">

        <ion-list-header text-right class="members_head">
            {{ 'adding_lead.group_members' | translate }}
        </ion-list-header>

        <ion-item *ngFor="let member of members" dir="rtl">
            <ion-label text-left class="add_lead_value">{{ member.email }}</ion-label>
            <ion-checkbox [(ngModel)]="member.value"></ion-checkbox>
        </ion-item>

    </ion-list>


    <ion-row *ngIf="!lead.sphere">
        <ion-col text-center>
            {{ 'adding_lead.no_spheres' | translate }}
        </ion-col>
    </ion-row>


</ion-content>


<ion-footer no-border text-center class="new_lead_footer">
        <button color="primary" round ion-button [attr.disabled]="!spheres ? '' : null" (click)="addLead()">
            {{ 'adding_lead.add_lead' | translate }}
        </button>
</ion-footer>